# SOME DESCRIPTIVE TITLE.
# Copyright (C) Read the Docs, Inc & contributors
# This file is distributed under the same license as the Read the Docs developer documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Read the Docs developer documentation latest\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-10-27 08:22+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../../design/pr-builder.rst:2
msgid "Design of pull request builder"
msgstr ""

#: ../../../design/pr-builder.rst:5
msgid "Background"
msgstr ""

#: ../../../design/pr-builder.rst:7
msgid ""
"This will focus on automatically building documentation for Pull Requests on "
"Read the Docs projects. This is one of the most requested feature of Read "
"the Docs. This document will serve as a design document for discussing how "
"to implement this features."
msgstr ""

#: ../../../design/pr-builder.rst:12
msgid "Scope"
msgstr ""

#: ../../../design/pr-builder.rst:14
msgid "Making Pull Requests work like temporary ``Version``"
msgstr ""

#: ../../../design/pr-builder.rst:15
msgid "Excluding PR Versions from Elasticsearch Indexing"
msgstr ""

#: ../../../design/pr-builder.rst:16
msgid "Adding a ``PR Builds`` Tab in the Project Dashboard"
msgstr ""

#: ../../../design/pr-builder.rst:17 ../../../design/pr-builder.rst:131
msgid "Updating the Footer API"
msgstr ""

#: ../../../design/pr-builder.rst:18
msgid "Adding Warning Banner to Docs"
msgstr ""

#: ../../../design/pr-builder.rst:19
msgid "Serving PR Docs"
msgstr ""

#: ../../../design/pr-builder.rst:20
msgid "Excluding PR Versions from Search Engines"
msgstr ""

#: ../../../design/pr-builder.rst:21
msgid "Receiving ``pull_request`` webhook event from Github"
msgstr ""

#: ../../../design/pr-builder.rst:22 ../../../design/pr-builder.rst:29
msgid "Fetching data from pull requests"
msgstr ""

#: ../../../design/pr-builder.rst:23
msgid "Storing PR Version build Data"
msgstr ""

#: ../../../design/pr-builder.rst:24
msgid ""
"Creating PR Versions when a pull request is opened and Triggering a build"
msgstr ""

#: ../../../design/pr-builder.rst:25
msgid "Triggering Builds on new commits on a PR"
msgstr ""

#: ../../../design/pr-builder.rst:26
msgid "Status reporting to Github"
msgstr ""

#: ../../../design/pr-builder.rst:31
msgid ""
"We already get Pull request events from Github webhooks. We can utilize that "
"to fetch data from pull requests. when a ``pull_request`` event is triggered "
"we can fetch the data of that pull request. We can fetch the pull request by "
"doing something similar to travis-ci. ie: ``git fetch origin +refs/pull/"
"<pr_number>/merge:``"
msgstr ""

#: ../../../design/pr-builder.rst:38
msgid "Modeling pull requests as a type of version"
msgstr ""

#: ../../../design/pr-builder.rst:40
msgid ""
"Pull requests can be Treated as a Type of Temporary ``Version``. We might "
"consider adding a ``VERSION_TYPES`` to the ``Version`` model."
msgstr ""

#: ../../../design/pr-builder.rst:43
msgid ""
"If we go with ``VERSION_TYPES`` we can add something like ``pull_request`` "
"alongside Tag and Branch."
msgstr ""

#: ../../../design/pr-builder.rst:45
msgid ""
"We should add ``Version`` and ``Build`` Model Managers for PR and Regular "
"Versions and Builds. The proposed names for PR and Regular Version and Build "
"Managers are ``external`` and ``internal``."
msgstr ""

#: ../../../design/pr-builder.rst:48
msgid ""
"We can then use ``Version.internal.all()`` to get all regular versions, "
"``Version.external.all()`` to get all PR versions."
msgstr ""

#: ../../../design/pr-builder.rst:51
msgid ""
"We can then use ``Build.internal.all()`` to get all regular version builds, "
"``Build.external.all()`` to get all PR version builds."
msgstr ""

#: ../../../design/pr-builder.rst:56
msgid "Excluding PR versions from Elasticsearch indexing"
msgstr ""

#: ../../../design/pr-builder.rst:58
msgid ""
"We should exclude to PR Versions from being Indexed to Elasticsearch. We "
"need to update the queryset to exclude PR Versions."
msgstr ""

#: ../../../design/pr-builder.rst:62
msgid "Adding a PR builds tab in the project dashboard"
msgstr ""

#: ../../../design/pr-builder.rst:64
msgid ""
"We can add a Tab in the project dashboard that will listout the PR Builds of "
"that project. We can name it ``PR Builds``."
msgstr ""

#: ../../../design/pr-builder.rst:68
msgid "Creating versions for pull requests"
msgstr ""

#: ../../../design/pr-builder.rst:70
msgid ""
"If the Github webhook event is ``pull_request`` and action is ``opened``, "
"this means a pull request was opened in the projects repository. We can "
"create a ``Version`` from the Payload data and trigger a initial build for "
"the version. A version will be created whenever RTD receives an event like "
"this."
msgstr ""

#: ../../../design/pr-builder.rst:76
msgid "Triggering build for new commits in a pull request"
msgstr ""

#: ../../../design/pr-builder.rst:78
msgid ""
"We might want to trigger a new build for the PR version if there is a new "
"commit on the PR. If the Github webhook event is ``pull_request`` and action "
"is ``synchronize``, this means a new commit was added to the pull request."
msgstr ""

#: ../../../design/pr-builder.rst:83
msgid "Status reporting to GitHub"
msgstr ""

#: ../../../design/pr-builder.rst:85
msgid ""
"We could send build status reports to Github. We could send if the build was "
"Successful or Failed. We can also send the build URL. By this we could show "
"if the build passed or failed on Github something like travis-ci does."
msgstr ""

#: ../../../design/pr-builder.rst:88
msgid ""
"As we already have the ``repo:status`` scope on our OAuth App, we can send "
"the status report to Github using the Github Status API."
msgstr ""

#: ../../../design/pr-builder.rst:91
msgid "Sending the status report would be something like this:"
msgstr ""

#: ../../../design/pr-builder.rst:95
msgid ""
"{\n"
"    \"state\": \"success\",\n"
"    \"target_url\": \"<pr_build_url>\",\n"
"    \"description\": \"The build succeeded!\",\n"
"    \"context\": \"continuous-documentation/read-the-docs\"\n"
"}"
msgstr ""

#: ../../../design/pr-builder.rst:105
msgid "Storing pull request docs"
msgstr ""

#: ../../../design/pr-builder.rst:107
msgid ""
"We need to think about how and where to store data after a PR Version build "
"is finished. We can store the data in a blob storage."
msgstr ""

#: ../../../design/pr-builder.rst:111
msgid "Excluding PR versions from search engines"
msgstr ""

#: ../../../design/pr-builder.rst:113
msgid ""
"We should Exclude the PR Versions from Search Engines, because it might "
"cause problems for RTD users. As users might land to a pull request doc but "
"not the original Project Docs. This will cause confusion for the users."
msgstr ""

#: ../../../design/pr-builder.rst:119
msgid "Serving PR docs"
msgstr ""

#: ../../../design/pr-builder.rst:121
msgid "We need to think about how we want to serve the PR Docs."
msgstr ""

#: ../../../design/pr-builder.rst:123
msgid "We could serve the PR Docs from another Domain."
msgstr ""

#: ../../../design/pr-builder.rst:124
msgid ""
"We could serve the PR Docs using ``<pr_number>`` namespace on the same "
"Domain."
msgstr ""

#: ../../../design/pr-builder.rst:126
msgid ""
"Using ``pr-<pr_number>`` as the version slug ``https://<project_slug>."
"readthedocs.io/<language_code>/pr-<pr_number>/``"
msgstr ""

#: ../../../design/pr-builder.rst:127
msgid ""
"Using ``pr`` subdomain ``https://pr.<project_slug>.readthedocs.io/"
"<pr_number>/``"
msgstr ""

#: ../../../design/pr-builder.rst:133
msgid ""
"We need to update the Footer API to reflect the changes. We might want to "
"have a way to show that if this is a PR Build on the Footer."
msgstr ""

#: ../../../design/pr-builder.rst:136
msgid ""
"For regular project docs we should remove the PR Versions from the version "
"list of the Footer."
msgstr ""

#: ../../../design/pr-builder.rst:137
msgid "We might want to send ``is_pr`` data with the Footer API response."
msgstr ""

#: ../../../design/pr-builder.rst:140
msgid "Adding warning banner to Docs"
msgstr ""

#: ../../../design/pr-builder.rst:142
msgid ""
"We need to add a warning banner to the PR Version Docs to let the users know "
"that this is a Draft/PR version. We can use a sphinx extension that we will "
"force to install on the PR Versions to add the warning banner."
msgstr ""

#: ../../../design/pr-builder.rst:146
msgid "Related issues"
msgstr ""

#: ../../../design/pr-builder.rst:148
msgid "`Autobuild Docs for Pull Requests`_"
msgstr ""

#: ../../../design/pr-builder.rst:149
msgid "`Add travis-ci style pull request builder`_"
msgstr ""
