

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Front-end development" />
<meta property="og:type" content="website" />
<meta property="og:url" content="front-end.html" />
<meta property="og:site_name" content="Read the Docs Documentation" />
<meta property="og:description" content="Background: Our modern front end development stack includes the following tools: Gulp, Bower, Browserify, Debowerify, And soon, LESS. We use the following libraries: Knockout, jQuery, Several jQuery plugins. Previously, JavaScript development has been done in monolithic files or inside templates...." />
<meta property="og:image" content="https://docs.readthedocs.io/en/latest/_static/img/logo-opengraph.png" />
<meta property="og:image:alt" content="Read the Docs Documentation" />
<meta name="description" content="Background: Our modern front end development stack includes the following tools: Gulp, Bower, Browserify, Debowerify, And soon, LESS. We use the following libraries: Knockout, jQuery, Several jQuery plugins. Previously, JavaScript development has been done in monolithic files or inside templates...." />
<meta name="twitter:card" content="summary_large_image" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Front-end development &mdash; Read the Docs developer documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=ca6f9a36" />
      <link rel="stylesheet" type="text/css" href="_static/css/sphinx_prompt_css.css?v=351d85e3" />

  
    <link rel="canonical" href="https://projects.localizethedocs.org/rtd-dev-docs-l10n/front-end.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=15dc31ed"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script src="_static/translations.js?v=beaddf03"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
      <script src="_static/js/expand_tabs.js?v=1e151f68"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="Internationalization" href="i18n.html" />
    <link rel="prev" title="Documentation style guide" href="style-guide.html" />

   

  

<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contributing to Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="issue-labels.html">Overview of issue labels</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Development installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="guides/index.html">Development guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Designing Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Building and contributing to documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="style-guide.html">Documentation style guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Front-end development</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#making-changes">Making changes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deployment">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#javascript-bundles">JavaScript bundles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrations.html">Database migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-side-search.html">Server side search</a></li>
<li class="toctree-l1"><a class="reference internal" href="search-integration.html">Server side search integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws-temporary-credentials.html">AWS temporary credentials</a></li>
<li class="toctree-l1"><a class="reference internal" href="subscriptions.html">Subscriptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="github-app.html">GitHub App</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Interesting settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Testing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Read the Docs developer documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Front-end development</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/readthedocs/readthedocs.org/blob/main/docs/dev/front-end.rst" class="fa fa-github"> 在 GitHub 上编辑</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="front-end-development">
<h1>Front-end development<a class="headerlink" href="#front-end-development" title="Link to this heading"></a></h1>
<section id="background">
<h2>Background<a class="headerlink" href="#background" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>This information is for the current dashboard templates and JavaScript source
files and will soon be replaced by the new dashboard templates. This
information will soon be mostly out of date.</p>
</div>
<p>Our modern front end development stack includes the following tools:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://gulpjs.com">Gulp</a></p></li>
<li><p><a class="reference external" href="https://bower.io">Bower</a></p></li>
<li><p><a class="reference external" href="http://browserify.org">Browserify</a></p></li>
<li><p><a class="reference external" href="https://github.com/eugeneware/debowerify">Debowerify</a></p></li>
<li><p>And soon, <a class="reference external" href="http://lesscss.org">LESS</a></p></li>
</ul>
<p>We use the following libraries:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://knockoutjs.com">Knockout</a></p></li>
<li><p><a class="reference external" href="https://jquery.com">jQuery</a></p></li>
<li><p>Several jQuery plugins</p></li>
</ul>
<p>Previously, JavaScript development has been done in monolithic files or inside
templates. jQuery was added as a global object via an include in the base
template to an external source. There are no standards currently to JavaScript
libraries, this aims to solve that.</p>
<p>The requirements for modernizing our front end code are:</p>
<ul class="simple">
<li><p>Code should be modular and testable. One-off chunks of JavaScript in templates
or in large monolithic files are not easily testable. We currently have no
JavaScript tests.</p></li>
<li><p>Reduce code duplication.</p></li>
<li><p>Easy JavaScript dependency management.</p></li>
</ul>
<p>Modularizing code with <a class="reference external" href="http://browserify.org">Browserify</a> is a good first step. In this development
workflow, major dependencies commonly used across JavaScript includes are
installed with <a class="reference external" href="https://bower.io">Bower</a> for testing, and vendorized as standalone libraries via
<a class="reference external" href="https://gulpjs.com">Gulp</a> and <a class="reference external" href="http://browserify.org">Browserify</a>. This way, we can easily test our JavaScript libraries
against jQuery/etc, and have the flexibility of modularizing our code. See
<a class="reference internal" href="#javascript-bundles">JavaScript Bundles</a> for more information on what and how we are bundling.</p>
<p>To ease deployment and contributions, bundled JavaScript is checked into the
repository for now. This ensures new contributors don't need an additional front
end stack just for making changes to our Python code base. In the future, this
may change, so that assets are compiled before deployment, however as our front
end assets are in a state of flux, it's easier to keep absolute sources checked
in.</p>
</section>
<section id="getting-started">
<h2>Getting started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h2>
<p>You will need to follow our <a class="reference internal" href="install.html"><span class="doc">guide to install a development Read the Docs instance</span></a> first.</p>
<p>The sources for our bundles are found in the per-application path
<code class="docutils literal notranslate"><span class="pre">static-src</span></code>, which has the same directory structure as <code class="docutils literal notranslate"><span class="pre">static</span></code>. Files in
<code class="docutils literal notranslate"><span class="pre">static-src</span></code> are compiled to <code class="docutils literal notranslate"><span class="pre">static</span></code> for static file collection in Django.
Don't edit files in <code class="docutils literal notranslate"><span class="pre">static</span></code> directly, unless you are sure there isn't a
source file that will compile over your changes.</p>
<p>To compile your changes and make them available in the application you need to run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">inv</span> <span class="n">docker</span><span class="o">.</span><span class="n">buildassets</span>
</pre></div>
</div>
<p>Once you are happy with your changes,
make sure to check in both files under <code class="docutils literal notranslate"><span class="pre">static</span></code> and <code class="docutils literal notranslate"><span class="pre">static-src</span></code>,
and commit those.</p>
</section>
<section id="making-changes">
<h2>Making changes<a class="headerlink" href="#making-changes" title="Link to this heading"></a></h2>
<p>If you are creating a new library, or a new library entry point, make sure to
define the application source file in <code class="docutils literal notranslate"><span class="pre">gulpfile.js</span></code>, this is not handled
automatically right now.</p>
<p>If you are bringing in a new vendor library, make sure to define the bundles you
are going to create in <code class="docutils literal notranslate"><span class="pre">gulpfile.js</span></code> as well.</p>
<p>Tests should be included per-application, in a path called <code class="docutils literal notranslate"><span class="pre">tests</span></code>, under the
<code class="docutils literal notranslate"><span class="pre">static-src/js</span></code> path you are working in. Currently, we still need a test
runner that accumulates these files.</p>
</section>
<section id="deployment">
<h2>Deployment<a class="headerlink" href="#deployment" title="Link to this heading"></a></h2>
<p>If merging several branches with JavaScript changes, it's important to do a
final post-merge bundle. Follow the steps above to rebundle the libraries, and
check in any changed libraries.</p>
</section>
<section id="javascript-bundles">
<h2>JavaScript bundles<a class="headerlink" href="#javascript-bundles" title="Link to this heading"></a></h2>
<p>There are several components to our bundling scheme:</p>
<blockquote>
<div><dl>
<dt>Vendor library</dt><dd><p>We repackage these using <a class="reference external" href="http://browserify.org">Browserify</a>, <a class="reference external" href="https://bower.io">Bower</a>, and <a class="reference external" href="https://github.com/eugeneware/debowerify">Debowerify</a> to
make these libraries available by a <code class="docutils literal notranslate"><span class="pre">require</span></code> statement.  Vendor
libraries are packaged separately from our JavaScript libraries, because
we use the vendor libraries in multiple locations. Libraries bundled
this way with <a class="reference external" href="http://browserify.org">Browserify</a> are available to our libraries via
<code class="docutils literal notranslate"><span class="pre">require</span></code> and will back down to finding the object on the global
<code class="docutils literal notranslate"><span class="pre">window</span></code> scope.</p>
<p>Vendor libraries should only include libraries we are commonly reusing.
This currently includes <code class="xref py py-obj docutils literal notranslate"><span class="pre">jQuery</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">Knockout</span></code>. These modules will be
excluded from libraries by special includes in our <code class="docutils literal notranslate"><span class="pre">gulpfile.js</span></code>.</p>
</dd>
<dt>Minor third party libraries</dt><dd><p>These libraries are maybe used in one or two locations. They are
installed via <a class="reference external" href="https://bower.io">Bower</a> and included in the output library file. Because
we aren't reusing them commonly, they don't require a separate bundle or
separate include. Examples here would include jQuery plugins used on one
off forms, such as jQuery Payments.</p>
</dd>
<dt>Our libraries</dt><dd><p>These libraries are bundled up excluding vendor libraries ignored by
rules in our <code class="docutils literal notranslate"><span class="pre">gulpfile.js</span></code>. These files should be organized by
function and can be split up into multiple files per application.</p>
<p>Entry points to libraries must be defined in <code class="docutils literal notranslate"><span class="pre">gulpfile.js</span></code> for now. We
don't have a defined directory structure that would make it easy to
imply the entry point to an application library.</p>
</dd>
</dl>
</div></blockquote>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="style-guide.html" class="btn btn-neutral float-left" title="Documentation style guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="i18n.html" class="btn btn-neutral float-right" title="Internationalization" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 Read the Docs, Inc &amp; contributors。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>