

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Subscriptions" />
<meta property="og:type" content="website" />
<meta property="og:url" content="subscriptions.html" />
<meta property="og:site_name" content="Read the Docs Documentation" />
<meta property="og:description" content="Subscriptions are available on Read the Docs for Business, we make use of Stripe to handle the payments and subscriptions. We use dj-stripe to handle the integration with Stripe. Local testing: To test subscriptions locally, you need to have access to the Stripe account, and define add the API ke..." />
<meta property="og:image" content="https://docs.readthedocs.io/en/latest/_static/img/logo-opengraph.png" />
<meta property="og:image:alt" content="Read the Docs Documentation" />
<meta name="description" content="Subscriptions are available on Read the Docs for Business, we make use of Stripe to handle the payments and subscriptions. We use dj-stripe to handle the integration with Stripe. Local testing: To test subscriptions locally, you need to have access to the Stripe account, and define add the API ke..." />
<meta name="twitter:card" content="summary_large_image" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Subscriptions &mdash; Read the Docs developer documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css?v=ca6f9a36" />
      <link rel="stylesheet" type="text/css" href="_static/css/sphinx_prompt_css.css?v=351d85e3" />

  
    <link rel="canonical" href="https://projects.localizethedocs.org/rtd-dev-docs-l10n/subscriptions.html" />
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=15dc31ed"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="_static/copybutton.js?v=f281be69"></script>
      <script src="_static/translations.js?v=beaddf03"></script>
      <script src="_static/design-tabs.js?v=f930bc37"></script>
      <script src="_static/js/expand_tabs.js?v=1e151f68"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="GitHub App" href="github-app.html" />
    <link rel="prev" title="AWS temporary credentials" href="aws-temporary-credentials.html" />

   

  

<script type="text/javascript" src="ltd-provenance.js"></script>
<script type="text/javascript" src="ltd-current.js"></script>
<script type="text/javascript" src="../../ltd-config.js"></script>
<script type="text/javascript" src="../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html">
            
              <img src="_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">General</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">Contributing to Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="code-of-conduct.html">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference internal" href="issue-labels.html">Overview of issue labels</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Development installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="guides/index.html">Development guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Designing Read the Docs</a></li>
<li class="toctree-l1"><a class="reference internal" href="docs.html">Building and contributing to documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="style-guide.html">Documentation style guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="front-end.html">Front-end development</a></li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrations.html">Database migrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-side-search.html">Server side search</a></li>
<li class="toctree-l1"><a class="reference internal" href="search-integration.html">Server side search integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws-temporary-credentials.html">AWS temporary credentials</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Subscriptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#local-testing">Local testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modeling">Modeling</a></li>
<li class="toctree-l2"><a class="reference internal" href="#life-cycle-of-a-subscription">Life cycle of a subscription</a></li>
<li class="toctree-l2"><a class="reference internal" href="#custom-products">Custom products</a></li>
<li class="toctree-l2"><a class="reference internal" href="#extra-products">Extra products</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="github-app.html">GitHub App</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Interesting settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Testing</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Read the Docs developer documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Subscriptions</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/readthedocs/readthedocs.org/blob/main/docs/dev/subscriptions.rst" class="fa fa-github"> 在 GitHub 上编辑</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="subscriptions">
<h1>Subscriptions<a class="headerlink" href="#subscriptions" title="Link to this heading"></a></h1>
<p>Subscriptions are available on Read the Docs for Business,
we make use of Stripe to handle the payments and subscriptions.
We use dj-stripe to handle the integration with Stripe.</p>
<section id="local-testing">
<h2>Local testing<a class="headerlink" href="#local-testing" title="Link to this heading"></a></h2>
<p>To test subscriptions locally, you need to have access to the Stripe account,
and define add the API key and webhook using the Django Admin.</p>
<ul class="simple">
<li><p>API key: <a class="reference external" href="https://dashboard.stripe.com/test/apikeys">https://dashboard.stripe.com/test/apikeys</a></p></li>
<li><p>Webhook: <a class="reference external" href="https://dashboard.stripe.com/test/webhooks">https://dashboard.stripe.com/test/webhooks</a></p></li>
</ul>
<p>To test the webhook locally, follow <a class="reference external" href="https://dj-stripe.dev/2.9/usage/local_webhook_testing/">the official guide from djstripe</a></p>
<p>If this is your first time setting up subscriptions, you will to re-sync djstripe with Stripe:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>inv<span class="w"> </span>docker.manage<span class="w"> </span>djstripe_sync_models
</pre></div>
</div>
<p>The subscription settings (<code class="docutils literal notranslate"><span class="pre">RTD_PRODUCTS</span></code>) already mapped to match the Stripe prices from the test mode.
To subscribe to any plan, you can use any <a class="reference external" href="https://stripe.com/docs/testing">test card from Stripe</a>,
for example: <code class="docutils literal notranslate"><span class="pre">4242</span> <span class="pre">4242</span> <span class="pre">4242</span> <span class="pre">4242</span></code> (use any future date and any value for the other fields).</p>
</section>
<section id="modeling">
<h2>Modeling<a class="headerlink" href="#modeling" title="Link to this heading"></a></h2>
<p>Subscriptions are attached to an organization (customer),
and can have multiple products attached to it.
A product can have multiple prices, usually monthly and yearly.</p>
<p>When a user subscribes to a plan (product), they are subscribing to a price of a product,
for example, the monthly price of the &quot;Basic plan&quot; product.</p>
<p>A subscription has a &quot;main&quot; product (<code class="docutils literal notranslate"><span class="pre">RTDProduct(extra=False)</span></code>),
and can have several &quot;extra&quot; products (<code class="docutils literal notranslate"><span class="pre">RTDProduct(extra=True)</span></code>).
For example, an organization can have a subscription with a &quot;Basic Plan&quot; product, and an &quot;Extra builder&quot; product.</p>
<p>Each product is mapped to a set of features (<code class="docutils literal notranslate"><span class="pre">RTD_PRODUCTS</span></code>) that the user will have access to
(different prices of the same product have the same features).
If a subscription has multiple products, the features are multiplied by the quantity and added together.
For example, if a subscription has a &quot;Basic Plan&quot; product with a two concurrent builders,
and an &quot;Extra builder&quot; product with quantity three, the total number of concurrent builders the
organization has will be five.</p>
</section>
<section id="life-cycle-of-a-subscription">
<h2>Life cycle of a subscription<a class="headerlink" href="#life-cycle-of-a-subscription" title="Link to this heading"></a></h2>
<p>When a new organization is created, a stripe customer is created for that organization,
and this customer is subscribed to the trial product (<code class="docutils literal notranslate"><span class="pre">RTD_ORG_DEFAULT_STRIPE_SUBSCRIPTION_PRICE</span></code>).</p>
<p>After the trial period is over, the subscription is canceled,
and their organization is disabled.</p>
<p>During or after the trial a user can upgrade their subscription to a paid plan
(<code class="docutils literal notranslate"><span class="pre">RTDProduct(listed=True)</span></code>).</p>
</section>
<section id="custom-products">
<h2>Custom products<a class="headerlink" href="#custom-products" title="Link to this heading"></a></h2>
<p>We provide 3 paid plans that users can subscribe to: Basic, Advanced and Pro.
Additionally, we provide an Enterprise plan, this plan is customized for each customer,
and it's manually created by the RTD core team.</p>
<p>To create a custom plan, you need to create a new product in Stripe,
and add the product id to the <code class="docutils literal notranslate"><span class="pre">RTD_PRODUCTS</span></code> setting mapped to the features that the plan will provide.
After that, you can create a subscription for the organization with the custom product,
our application will automatically relate this new product to the organization.</p>
</section>
<section id="extra-products">
<h2>Extra products<a class="headerlink" href="#extra-products" title="Link to this heading"></a></h2>
<p>We have one extra product: Extra builder.</p>
<p>To create a new extra product, you need to create a new product in Stripe,
and add the product id to the <code class="docutils literal notranslate"><span class="pre">RTD_PRODUCTS</span></code> setting mapped to the features that the
extra product will provide, this product should have the <code class="docutils literal notranslate"><span class="pre">extra</span></code> attribute set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>To subscribe an organization to an extra product,
you just need to add the product to its subscription with the desired quantity,
our application will automatically relate this new product to the organization.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="aws-temporary-credentials.html" class="btn btn-neutral float-left" title="AWS temporary credentials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="github-app.html" class="btn btn-neutral float-right" title="GitHub App" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 Read the Docs, Inc &amp; contributors。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>